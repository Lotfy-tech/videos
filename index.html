<!DOCTYPE html>
<html>
<head>
    <title>YouTube Uploader</title>
</head>
<body>
    <div id="auth-container">
        <button id="authorize-button">Authorize</button>
    </div>
    
    <div id="upload-container" style="display:none;">
        <input type="text" id="video-title" placeholder="Video Title">
        <input type="file" id="video-file">
        <button id="upload-button">Upload</button>
    </div>
    
    <div id="status"></div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Configuration
            const CLIENT_ID = '176471486426-u5cad866brr1tfh7ca99fpo8oc2hqt2a.apps.googleusercontent.com';
            const API_KEY = 'AIzaSyCpU8CEpMngGrIlnMLTs8up4xZpOZCRIyA';
            const SCOPES = 'https://www.googleapis.com/auth/youtube.upload';
            
            // DOM Elements
            const authButton = document.getElementById('authorize-button');
            const uploadButton = document.getElementById('upload-button');
            const authContainer = document.getElementById('auth-container');
            const uploadContainer = document.getElementById('upload-container');
            const statusDiv = document.getElementById('status');
            
            // Load Google API
            function loadGoogleAPI() {
                const script = document.createElement('script');
                script.src = 'https://apis.google.com/js/api.js';
                script.onload = () => {
                    gapi.load('client:auth2', initClient);
                };
                document.body.appendChild(script);
            }
            
            // Initialize client
            function initClient() {
                gapi.client.init({
                    apiKey: API_KEY,
                    clientId: CLIENT_ID,
                    scope: SCOPES,
                    discoveryDocs: ['https://www.googleapis.com/discovery/v1/apis/youtube/v3/rest']
                }).then(() => {
                    authButton.onclick = handleAuthClick;
                }).catch(err => {
                    statusDiv.textContent = 'Initialization error: ' + err.details;
                });
            }
            
            // Handle auth click
            function handleAuthClick() {
                gapi.auth2.getAuthInstance().signIn()
                    .then(() => {
                        authContainer.style.display = 'none';
                        uploadContainer.style.display = 'block';
                        statusDiv.textContent = 'Authentication successful!';
                    })
                    .catch(err => {
                        statusDiv.textContent = 'Auth error: ' + err.error;
                    });
            }
            
            // Handle upload click
            uploadButton.onclick = function() {
                const fileInput = document.getElementById('video-file');
                if (!fileInput.files.length) {
                    statusDiv.textContent = 'Please select a video file';
                    return;
                }
                
                statusDiv.textContent = 'Uploading...';
                // Upload logic would go here
            };
            
            // Start the process
            loadGoogleAPI();
        });
    </script>
</body>
</html>